// Copyright (c) Microsoft Corporation.
// Licensed under the MIT license.
/**
 * Runs the `fn` passed in and marks the span as completed with an error (and the
 * corresponding message) or as OK.
 *
 * @hidden
 * @internal
 */
export async function trace(fn, span) {
    try {
        const ret = await fn();
        span.setStatus({ status: "success" });
        return ret;
    }
    catch (err) {
        span.setStatus({
            status: "error",
            error: err,
        });
        throw err;
    }
    finally {
        span.end();
    }
}
//# sourceMappingURL=modelsToBeSharedWithEventHubs.js.map