{"version":3,"file":"tracing.js","sourceRoot":"","sources":["../../../src/diagnostics/tracing.ts"],"names":[],"mappings":"AAAA,uCAAuC;AACvC,kCAAkC;AAElC,OAAO,EAAE,mBAAmB,EAAuC,MAAM,qBAAqB,CAAC;AAE/F,OAAO,EAAE,eAAe,EAAE,MAAM,mBAAmB,CAAC;AAEpD;;GAEG;AACH,MAAM,CAAC,MAAM,aAAa,GAAG,mBAAmB,CAAC;IAC/C,SAAS,EAAE,sBAAsB;IACjC,WAAW,EAAE,eAAe,CAAC,IAAI;IACjC,cAAc,EAAE,eAAe,CAAC,OAAO;CACxC,CAAC,CAAC;AAEH;;;;;GAKG;AACH,MAAM,UAAU,aAAa,CAC3B,gBAAyE,EACzE,QAA0B;IAE1B,MAAM,WAAW,GAAuB;QACtC,cAAc,EAAE;YACd,yBAAyB,EAAE,gBAAgB,CAAC,UAAU;YACtD,cAAc,EAAE,gBAAgB,CAAC,IAAI;SACtC;KACF,CAAC;IACF,IAAI,QAAQ,EAAE;QACZ,WAAW,CAAC,QAAQ,GAAG,QAAQ,CAAC;KACjC;IACD,OAAO,WAAW,CAAC;AACrB,CAAC","sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { createTracingClient, TracingSpanOptions, TracingSpanKind } from \"@azure/core-tracing\";\nimport { ConnectionConfig } from \"@azure/core-amqp\";\nimport { packageJsonInfo } from \"../util/constants\";\n\n/**\n * The {@link TracingClient} that is used to add tracing spans.\n */\nexport const tracingClient = createTracingClient({\n  namespace: \"Microsoft.ServiceBus\",\n  packageName: packageJsonInfo.name,\n  packageVersion: packageJsonInfo.version,\n});\n\n/**\n * Creates {@link TracingSpanOptions} from the provided data.\n * @param serviceBusConfig - The configuration object containing initial attributes to set on the span.\n * @param spanKind - The {@link TracingSpanKind} for the newly created span.\n * @returns a {@link TracingSpanOptions} that can be passed to a {@link TracingClient}\n */\nexport function toSpanOptions(\n  serviceBusConfig: Pick<ConnectionConfig, \"host\"> & { entityPath: string },\n  spanKind?: TracingSpanKind\n): TracingSpanOptions {\n  const spanOptions: TracingSpanOptions = {\n    spanAttributes: {\n      \"message_bus.destination\": serviceBusConfig.entityPath,\n      \"peer.address\": serviceBusConfig.host,\n    },\n  };\n  if (spanKind) {\n    spanOptions.spanKind = spanKind;\n  }\n  return spanOptions;\n}\n"]}