{"version":3,"file":"modelsToBeSharedWithEventHubs.js","sourceRoot":"","sources":["../../src/modelsToBeSharedWithEventHubs.ts"],"names":[],"mappings":"AAAA,uCAAuC;AACvC,kCAAkC;AAwBlC;;;;;;GAMG;AACH,MAAM,CAAC,KAAK,UAAU,KAAK,CAAI,EAAoB,EAAE,IAAiB;IACpE,IAAI;QACF,MAAM,GAAG,GAAG,MAAM,EAAE,EAAE,CAAC;QACvB,IAAI,CAAC,SAAS,CAAC,EAAE,MAAM,EAAE,SAAS,EAAE,CAAC,CAAC;QACtC,OAAO,GAAG,CAAC;KACZ;IAAC,OAAO,GAAQ,EAAE;QACjB,IAAI,CAAC,SAAS,CAAC;YACb,MAAM,EAAE,OAAO;YACf,KAAK,EAAE,GAAG;SACX,CAAC,CAAC;QACH,MAAM,GAAG,CAAC;KACX;YAAS;QACR,IAAI,CAAC,GAAG,EAAE,CAAC;KACZ;AACH,CAAC","sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\n// TODO: this code is a straight-copy from EventHubs. Need to merge.\n\nimport { OperationTracingOptions, TracingSpan } from \"@azure/core-tracing\";\nimport { OperationOptions } from \"@azure/core-client\";\n\n/**\n * NOTE: This type is intended to mirror the relevant fields and structure from `@azure/core-client` OperationOptions\n *\n * Options for configuring tracing and the abortSignal.\n */\nexport type OperationOptionsBase = Pick<OperationOptions, \"abortSignal\" | \"tracingOptions\">;\n\n/**\n * The set of options to manually propagate `Span` context for distributed tracing.\n */\nexport interface TryAddOptions {\n  /**\n   * The options to use when creating Spans for tracing.\n   */\n  tracingOptions?: OperationTracingOptions;\n}\n\n/**\n * Runs the `fn` passed in and marks the span as completed with an error (and the\n * corresponding message) or as OK.\n *\n * @hidden\n * @internal\n */\nexport async function trace<T>(fn: () => Promise<T>, span: TracingSpan): Promise<T> {\n  try {\n    const ret = await fn();\n    span.setStatus({ status: \"success\" });\n    return ret;\n  } catch (err: any) {\n    span.setStatus({\n      status: \"error\",\n      error: err,\n    });\n    throw err;\n  } finally {\n    span.end();\n  }\n}\n"]}